# SoungBot
***
## 空调
**默认文件夹名：[aircon](hoshino/modules/aircon/__init__.py)**
**默认功能名：空调**
**目录组成如下：**
> modules
>> **aircon**
>>> \__init__.py  #指令处理
>>> airconutils.py  #函数运行
>>> README.md  #说明文件

### 功能介绍

群空调插件。

这个插件将群视为一个房间，每位群员对应2m³的空气，不足20m³的以20m³算。家用空调的基准风量为0.178m³/s，基准功率为5000W，中档和高档为基准的1.2与1.5倍，基准数据来源于一款常见家用空调的官方网站；中央空调将群划分为100m³的房间，不足一间的以一间计，每间房间配备一台功率7500W，循环风量0.577m³的空调，数据来源于一家著名空调制造商的官方网站。

假设除空调外没有任何物体对这个系统做功，并设气体摩尔体积恒为22.4L/mol（实际上这是不可能的）。为简单起见，设空调每秒离散地运转一次。

以家用空调的基准风量与功率为例。如果空调的功率不足以将吸入的空气调至设定温度，则其将以每秒5000J的速度往房间空气中移除或增加热量；如果它的功率足够将吸入的空气调至设定温度，则它会调至设定温度后吹出，这部分空气与室内剩余空气迅速混匀达到同温。因此，温度以先线性后指数级的规律变化。

### 指令
- **`[开空调]`** 打开空调（第一次使用时会自动安装空调）
- **`[关空调]`** 关闭空调
- **`[当前温度]`** 查看当前风速、设定温度、环境温度
- **`[设置温度 <温度>]`** 设置空调温度
- **`[设置风速 <1/2/3> (或者低/中/高)]`** 设置空调风速（共有三档）
- **`[设置环境温度 <温度>]`** 设置环境温度
- **`[升级空调]`** 升级空调（家用空调👉中央空调）
- **`[降级空调]`** 降级空调（中央空调👉家用空调）
- **`[空调类型]`** 查看空调类型（家用空调/中央空调）

> 安装空调时，将设置低风速，温度26°C，环境温度33°C。`
> 当空调开启时，将忽略环境温度的影响；当空调关闭时，将以每分钟3°C的速度恢复至环境温度。
> 只有家用空调支持调节风速。

### 可自定义内容

在 **[\_init_.py](hoshino/modules/aircon/__init__.py)** 文件的第 **22-30** 行可以自行设置此功能的权限

```python
sv = Service(
    name = '空调',  #功能名
    use_priv = priv.NORMAL, #使用权限   
    manage_priv = priv.ADMIN, #管理权限
    visible = True, #服务名是否可见
    enable_on_default = True, #是否默认启用
    bundle = '娱乐', #属于哪一类
    help_ = sv_help #帮助文本
    )
```

在 **[\_init_.py](hoshino/modules/aircon/__init__.py)** 文件的第 **148-150** 行可以添加设置特定温度的回复

```python
	if set_temp == 114514:  #自行设置特定温度
		await bot.send(event,"这么臭的空调有什么装的必要吗")  #自行修改回复
		return
```

### 其它

无额外说明。

### 鸣谢

此功能原作者：**[iamwyh2019](https://github.com/iamwyh2019/)**
[原项目地址](https://github.com/iamwyh2019/customize-HoshinoBot/tree/master/hoshino/modules/aircon)